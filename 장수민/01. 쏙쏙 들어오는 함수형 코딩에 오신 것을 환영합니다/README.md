> 1장의 목표

- 함수형 사고가 무엇인지 설명합니다.
- 다른 함수형 프로그래밍 책과 어떻게 다른지 알 수 있습니다.
- 함수형 프로그래머가 코드를 바라보는 특별한 방법을 알게 됩니다.
- 여러분이 이 책을 계속 볼지 말지 감을 잡을 수 있습니다.

## 함수형 프로그래밍이란?

1. 수학 함수를 사용하고 부수 효과를 **피하는 것**이 특징인 프로그래밍 패러다임
2. 부수 효과 없이 순수 함수만 사용하는 프로그래밍 스타일

## 부수 효과란?

**함수가 반환하는 값 이외에 하는 모든 일**

```tsx
import { useState, useEffect } from "react";

export default function Component() {
  const [state, setState] = useState(null);

  useEffect(() => {
    fetch("https://localhost:1234").then((res) => {
      setState(res);
    });
  }, []);

  return <div>{state}</div>;
}
```

React에서 부수 효과를 다루는 빌트인 훅 중에 useEffect의 사용 예시. div 요소를 반환하는 일 이외에는 모두 부수 효과이다.

## 그렇다고 우리는 순수 함수만 사용해야 할까?

위 코드에서 컴포넌트를 마운트할 때, API 서버에서 응답을 받아오는 부수 효과가 없다면 다양한 정보를 보여주는 웹으로써 본질을 잃는다. → **필요할 때는 사용해야 한다.**

## 그럼 우리가 아는 함수형 프로그래밍의 정의에서 벗어나는 거 아니야?

일반적인 정의에서는 벗어나지만, 이 책에서는 실용적인 측면에서 함수형 프로그래밍을 잘 하는 법을 가르쳐 준다.

---

## 함수형 프로그래머가 중요하다 얘기하는 분류 세 가지 핵심

1. 액션
2. 계산
3. 데이터

## 액션

**호출하는 시점과 횟수에 의존**

- ex) useEffect에 전달하는 콜백 안에 DB와 연결하는 로직이 들어있다고 가정하자. 이 때 두 번 실행한다면, DB와 연결하는 리소스를 두 배로 사용하게 되므로 문제가 생긴다.

## 계산

**실행 가능하면서 입력값을 계산해서 출력하는 것**

- ex) 자바스크립트 문자열을 처리하는 메서드는 같은 입력에 대해 늘 같은 출력을 반환한다.

## 데이터

**실행 가능하지 않은 정적인 소스**

## 이렇게 세 가지로 분류 했을 때 좋은 점은 뭘까?

소프트웨어를 분산해서 사용하는 시스템으로 전환하면서 *시간에 따라 바뀌는 값을 모델링하는 일*이 어려워졌다. 실행 시점이나 횟수에 영향을 받는 액션이 코드 전체에 영향을 끼치지 않도록 격리하고 최대한 계산과 데이터를 사용하도록 하면 분산 시스템을 사용하면서 생기는 문제를 해결할 수 있기 때문에 액션, 계산, 데이터로 분류하는 것이 좋다.

---

## 함수형 사고란?

**함수형 프로그래머가 소프트웨어 문제를 해결하기 위해 사용하는 기술과 생각**

## 함수형 사고에서 가장 중요하게 생각하는 두 가지 개념

1. 액션, 계산, 데이터를 구분지어 생각하는 것
2. 일급 추상(first-class abstraction)

---

## 느낀 점

- 부수 효과가 무엇인지는 금방 직감하는게, useEffect를 무분별하게 사용하는 게 아닐까라는 고민을 하면서 React를 사용해왔다.
- 근데, 부수 효과를 잘 다루는 법에 대해서는 고민해본 적이 딱히 없는 것 같다. 좋은 기회가 될 것 같다…!
- 프론트엔드 개발은 사용자의 이벤트에 따라 UI를 업데이트하거나 서버에 요청하는 일이 많다. 이 모든 일은 액션에 해당하기 때문에, 프론트엔드 개발을 하는 사람의 입장에서 함수형 프로그래밍이라는 개념을 숙지하는 것은 큰 도움이 되지 않을까 싶다.
- 자바스크립트의 map, filter 등의 고차 함수는 반복하고, 걸러낸다는 의도를 확실히 나타낸다는 점에서 사용한다고 생각한다. → 우리는 map과 같은 고차 함수를 통해 반복문을 직접 쓰지 않고도 재사용하고 있기 때문에 이는 일급 추상에 해당하지 않나라는 생각이 든다.

```tsx
export default function Component(data: string[]) {
	return (
		<ul>
			{data.map((str, index) => {
				return <li key={index}>{ str }</li>
			}
		</ul>
	);
}
```

문자열 배열을 순회하면서 li 요소의 children을 넣는다는 의도가 드러난다.

```tsx
export default function Component(data: string[]) {
  const makeList = () => {
    const list = [];

    for (let i = 0; i < data.length; i++) {
      list.push(<li key={i}>{data[i]}</li>);
    }

    return list;
  };

  return <ul>{makeList()}</ul>;
}
```

이런 코드를 작성해본 적이 없어서 어색하다 느끼는 것일지도 모르지만, for 문을 감췄다는 면에서 map을 사용하는 게 훨씬 더 편하다 느낀다.

## 질문

- 책에서는 함수형 사고에서 일급 추상이라는 개념이 중요하다고 말하는데, 자바스크립트처럼 함수를 값으로 취급하는 일급 객체의 개념이 없으면 함수형 프로그래밍을 하는 데 제약이 생기는 것이 아닐까?
