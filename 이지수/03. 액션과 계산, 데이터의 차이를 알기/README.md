## ì•¡ì…˜ê³¼ ê³„ì‚°, ë°ì´í„°

### ì•¡ì…˜

- ì‹¤í–‰ ì‹œì ê³¼ íšŸìˆ˜ì— ì˜ì¡´
- ë¶€ìˆ˜íš¨ê³¼, ë¶€ìˆ˜íš¨ê³¼ê°€ ìˆëŠ” í•¨ìˆ˜, ìˆœìˆ˜í•˜ì§€ ì•Šì€ í•¨ìˆ˜
- ex) ì´ë©”ì¼ ë³´ë‚´ê¸°, ë°ì´í„°ë² ì´ìŠ¤ ì½ê¸°

### ê³„ì‚°

- ì…ë ¥ìœ¼ë¡œ ì¶œë ¥ì„ ê³„ì‚°
- ìˆœìˆ˜í•¨ìˆ˜, ìˆ˜í•™í•¨ìˆ˜
- ex) ìµœëŒ€ê°’ ì°¾ê¸°, ì´ë©”ì¼ ì£¼ì†Œê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•˜ê¸°

### ë°ì´í„°

- ì´ë²¤íŠ¸ì— ëŒ€í•œ ì‚¬ì‹¤
- ex) ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì´ë©”ì¼ ì£¼ì†Œ, ì€í–‰ APIë¡œ ì½ì€ ë‹¬ëŸ¬ ìˆ˜ëŸ‰

ë¬¸ì œì— ëŒ€í•´ ìƒê°í•  ë•Œ(ì½”ë”© ì „), ì½”ë”©í•  ë•Œ, ì½”ë“œë¥¼ ì½ì„ ë•Œ ì•¡ì…˜, ê³„ì‚°, ë°ì´í„°ë¥¼ êµ¬ë¶„í•˜ëŠ” ê¸°ìˆ ì„ ì ìš©í•´ ë³¼ ìˆ˜ ìˆìŒ

## ì•¡ì…˜ê³¼ ê³„ì‚°, ë°ì´í„°ëŠ” ì–´ë””ì—ë‚˜ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

```jsx
A -> ì•¡ì…˜
C -> ê³„ì‚°
D -> ë°ì´í„°
```

ì¥ë³´ê¸° ê³¼ì •ì„ ë³´ë©´

```jsx
ëƒ‰ì¥ê³  í™•ì¸í•˜ê¸°(A) â†’ ìš´ì „í•´ì„œ ìƒì ìœ¼ë¡œ ê°€ê¸°(A) â†’ í•„ìš”í•œ ê²ƒ êµ¬ì…í•˜ê¸°(A) â†’ ìš´ì „í•´ì„œ ì§‘ìœ¼ë¡œ ì˜¤ê¸°(A)
```

ë‹¨ìˆœíˆ ëª¨ë“  ê²ƒì´ ì•¡ì…˜ìœ¼ë¡œ ë¶„ë¥˜í•˜ì§€ë§ê³  ì•¡ì…˜ì— ìˆ¨ì–´ ìˆëŠ” ë‹¤ë¥¸ ì•¡ì…˜ì´ë‚˜ ê³„ì‚° ë˜ëŠ” ë°ì´í„°ë¥¼ ì°¾ì•„ ë‚˜ëˆ„ëŠ” ê²ƒì´ ì¢‹ë‹¤

ex) ëƒ‰ì¥ê³  í™•ì¸í•˜ê¸°

```jsx
í˜„ì¬ ì¬ê³ (D)
```

ex) í•„ìš”í•œ ê²ƒ êµ¬ì…í•˜ê¸°

```jsx
í˜„ì¬ ì¬ê³ (D) â†’ í•„ìš”í•œ ì¬ê³ (D) â†’ ì¬ê³  ë¹¼ê¸°(C) â†’ ì¥ë³´ê¸° ëª©ë¡(D) â†’ ëª©ë¡ì— ìˆëŠ” ê²ƒ êµ¬ì…í•˜ê¸°(A)
```

í•„ìš”í•œ ì¬ê³  - í˜„ì¬ ì¬ê³  = ì¥ë³´ê¸° ëª©ë¡

## ì¥ë³´ê¸° ê³¼ì •ì—ì„œ ë°°ìš´ ê²ƒ

1. ì•¡ì…˜ê³¼ ê³„ì‚°, ë°ì´í„°ëŠ” ì–´ë””ì—ë‚˜ ì ìš© ê°€ëŠ¥
2. ì•¡ì…˜ ì•ˆì—ëŠ” ê³„ì‚°ê³¼ ë°ì´í„°, ë˜ ë‹¤ë¥¸ ì•¡ì…˜ì´ ìˆ¨ì–´ìˆì„ì§€ë„ ëª¨ë¦„
3. ê³„ì‚°ì€ ë” ì‘ì€ ê³„ì‚°ê³¼ ë°ì´í„°ë¡œ ë‚˜ëˆ„ê³  ì—°ê²° ê°€ëŠ¥
   - ê³„ì‚°ì„ ë” ì‘ì€ ê³„ì‚°ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆëŠ” ìƒí™©ë„ ìˆìŒ
   - ì²«ë²ˆì§¸ ê³„ì‚°ì˜ ê²°ê³¼ ë°ì´í„°ê°€ ë‘ë²ˆì§¸ ê³„ì‚°ì˜ ì…ë ¥ì´ ë¨
4. ë°ì´í„°ëŠ” ë°ì´í„°ë§Œ ì¡°í•© ê°€ëŠ¥
5. ê³„ì‚°ì€ ë•Œë¡œ â€˜ìš°ë¦¬ ë¨¸ë¦¬ì†ì—ì„œâ€™ ì¼ì–´ë‚¨
   - ì¥ë³´ë‹¤ê°€ ê°‘ìê¸° ì¥ë³´ê¸° ëª©ë¡ì„ ì‘ì„±í•˜ì§€ ì•ŠëŠ” ê²ƒì²˜ëŸ¼ ë¨¸ë¦¬ì†ì—ì„œ ë‚˜ë„ ëª¨ë¥´ê²Œ ì¼ì–´ë‚¨
   - ì–´ë–¤ ë‹¨ê³„ì—ì„œ ë¬´ì—‡ì¸ê°€ ê²°ì •í•´ì•¼ í•  ê²ƒì´ ìˆëŠ”ì§€, ë˜ëŠ” ë¬´ì—‡ì¸ê°€ ê³„íší•´ì„œ ë°©ë²•ì„ ì°¾ì•„ì•¼ í•  ê²ƒì´ ìˆëŠ”ì§€ë¥¼ ì²´í¬
   - ê²°ì •ê³¼ ê³„íšì´ ê³„ì‚°ì´ ë  ê°€ëŠ¥ì„±ì´ ë†’ìŒ

> ğŸ’¡ **ë°ì´í„° ìì„¸íˆ ì•Œì•„ë³´ê¸°**
>
> ì´ë²¤íŠ¸ì— ëŒ€í•œ ì‚¬ì‹¤, ì¼ì–´ë‚œ ì¼ì˜ ê²°ê³¼
>
> 1. **ì¹´í”¼-ì˜¨-ë¼ì´íŠ¸ (Copy-on-Write)**: ë³€ê²½í•  ë•Œ ë³µì‚¬ë³¸ ë§Œë“¤ê¸°
> 2. **ë°©ì–´ì  ë³µì‚¬ (Defensive Copy)**: ë³´ê´€í•˜ë ¤ê³  í•˜ëŠ” ë°ì´í„°ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“¤ê¸°
>
> ### ë°ì´í„°ì˜ ì¥ì 
>
> - **ì§ë ¬í™”**: ì§ë ¬í™”ëœ ë°ì´í„°ëŠ” ì „ì†¡í•˜ê±°ë‚˜ ì €ì¥í–ˆë‹¤ê°€ ì½ê¸°ê°€ ì‰¬ì›€
> - **ë™ì¼ì„± ë¹„êµ**: ê³„ì‚°ì´ë‚˜ ì•¡ì…˜ì€ ì„œë¡œ ë¹„êµí•˜ê¸°ê°€ ì–´ë ¤ì›€
> - **ììœ ë¡œìš´ í•´ì„**: ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ í•´ì„ ê°€ëŠ¥
>
> ### ë°ì´í„°ì˜ ë‹¨ì 
>
> - **í•´ì„ í•„ìš”**: í•´ì„í•˜ì§€ ì•Šì€ ë°ì´í„°ëŠ” ì“¸ëª¨ì—†ëŠ” ë°”ì´íŠ¸ì¼ ë¿
>
> ë°ì´í„°ëŠ” ì–¸ì œë‚˜ ì‰½ê²Œ í•´ì„í•  ìˆ˜ ìˆë„ë¡ í‘œí˜„í•˜ëŠ” ê²ƒì´ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œ ì¤‘ìš”í•œ ê¸°ìˆ !

## ìƒˆë¡œ ë§Œë“œëŠ” ì½”ë“œì— í•¨ìˆ˜í˜• ì‚¬ê³  ì ìš©í•˜ê¸°

êµ¬ë…ìë“¤ì—ê²Œ ì´ë©”ì¼ë¡œ ì¿ í°ì„ ë§¤ì£¼ ë³´ë‚´ì£¼ëŠ” ì„œë¹„ìŠ¤

ì¹œêµ¬ë¥¼ 10ëª… ì¶”ì²œí•˜ë©´ ë” ì¢‹ì€ ì¿ í°ì„ ë³´ë‚´ì£¼ë ¤ê³  í•¨

ì¿ í°ì€ â€˜badâ€™, â€˜goodâ€™, â€˜bestâ€™ë“±ê¸‰ì´ ìˆìŒ

- bad: ì‚¬ìš© x
- good: ëª¨ë“  ì‚¬ìš©ìë“¤ì—ê²Œ ì „ë‹¬
- best: ì¶”ì²œì„ ë§ì´ í•œ ì‚¬ìš©ìë¥¼ ìœ„í•œ ì¿ í°

ì½”ë“œ ì‘ì„±ì— ìˆì–´ì„œ í•„ìš”í•œ ë‹¨ê³„ë¥¼ ì ì–´ë³´ê¸°

```jsx
- ì´ë©”ì¼ ë³´ë‚´ê¸° A
- ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ êµ¬ë…ì ê°€ì ¸ì˜¤ê¸° A
- ì¿ í°ì— ë“±ê¸‰ ë§¤ê¸°ê¸° D
- ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¿ í° ì½ê¸° A
- ì´ë©”ì¼ ì œëª© D
- ì´ë©”ì¼ ì£¼ì†Œ D
- ì¶”ì²œ ìˆ˜ D
- ì–´ë–¤ ì´ë©”ì¼ì´ ì¿ í°ì„ ë°›ì„ì§€ ê²°ì •í•˜ê¸° C
- êµ¬ë…ì DB ë ˆì½”ë“œ D
- ì¿ í° DB ë ˆì½”ë“œ D
- êµ¬ë…ì ëª©ë¡ DB ë ˆì½”ë“œ D
- ì´ë©”ì¼ ë³¸ë¬¸ D
```

### ì¿ í° ë³´ë‚´ëŠ” ê³¼ì • ê·¸ë ¤ë³´ê¸°

1. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ êµ¬ë…ì ê°€ì ¸ì˜¤ê¸°
2. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¿ í° ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
3. ë³´ë‚´ì•¼í•  ì´ë©”ì¼ ëª©ë¡ ë§Œë“¤ê¸°
4. ì´ë©”ì¼ ì „ì†¡í•˜ê¸°

### ì¿ í° ë³´ë‚´ëŠ” ê³¼ì • êµ¬í˜„í•˜ê¸°

```jsx
// ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°€ì ¸ì˜¨ êµ¬ë…ì ë°ì´í„°
var subscribe = {
  email: "sam@pmail.com",
  rec_count: 16,
};

// ì¿ í° ë“±ê¸‰ì€ ë¬¸ìì—´
var rank1 = "best";
var rank2 = "good";

// ì¿ í° ë“±ê¸‰ì„ ê²°ì •í•˜ëŠ” í•¨ìˆ˜
function subCouponRank(subscriber) {
  if (subscriber.rec_count >= 10) {
    return "best";
  } else {
    return "good";
  }
}

// ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°€ì ¸ì˜¨ ì¿ í° ë°ì´í„°
var coupon = {
  code: "10PERCENT",
  rank: "bad",
};

// íŠ¹ì • ë“±ê¸‰ì˜ ì¿ í° ëª©ë¡ì„ ì„ íƒí•˜ëŠ” ê³„ì‚°
function selectCouponsByRank(coupons, rank) {
  var ret = [];
  for (var c = 0; c < coupons.length; c++) {
    var coupon = coupons[c];
    if (coupon.rank === rank) {
      ret.push(coupon.code);
    }
    return ret;
  }
}

// ì´ë©”ì¼ ë°ì´í„°
var message = {
  from: "newsletter@coupondog.co",
  to: "sam@pmail.com",
  subject: "Your weekly coupons inside",
  body: "Here are your coupons...",
};

// êµ¬ë…ìê°€ ë°›ì„ ì´ë©”ì¼ì„ ê³„íší•˜ëŠ” ê³„ì‚°
function emailForSubscriber(subscriber, goods, bests) {
  var rank = subCouponRank(subscriber);
  if (rank === "best") {
    return {
      from: "newsletter@coupondog.co",
      to: "sam@pmail.com",
      subject: "Your best weekly coupons inside",
      body: "Here are your the best coupons: " + bests.join(", "),
    };
  } else {
    return {
      from: "newsletter@coupondog.co",
      to: "sam@pmail.com",
      subject: "Your good weekly coupons inside",
      body: "Here are your the good coupons: " + goods.join(", "),
    };
  }
}

// ë³´ë‚¸ ì´ë©”ì¼ ëª©ë¡ ì¤€ë¹„í•˜ê¸°
function emailsForSubscribers(subscribers, goods, bests) {
  var emails = [];
  for (var s = 0; s < subscribers.length; s++) {
    var subscriber = subscribers[s];
    var email = emailForSubscriber(subscriber, goods, bests);
    emails.push(email);
  }
  return emails;
}

// ì´ë©”ì¼ ë³´ë‚´ê¸° - ì•¡ì…˜ìœ¼ë¡œ ëª¨ë“  ê¸°ëŠ¥ì„ í•˜ë‚˜ë¡œ ë¬¶ìŒ
function sendIssue() {
  var coupons = fetchCouponsFromDB();
  var goodCoupons = selectCouponsByRank(coupons, "good");
  var bestCoupons = selectCouponsByRank(coupons, "best");
  var subscribers = fetchSubscribersFromDB();
  var emails = emailsForSubscribers(subscribers, goodCoupons, bestCoupons);
  for (var e = 0; e < emails.length; e++) {
    var email = emails[e];
    emailSystem.send(email);
  }
}
```

ë°ì´í„°ë¥¼ ë¨¼ì € êµ¬í˜„í•˜ê³  ê³„ì‚°ì„ êµ¬í˜„í•œ ë‹¤ìŒì— ë§ˆì§€ë§‰ìœ¼ë¡œ ì•¡ì…˜ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì´ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì˜ ì¼ë°˜ì ì¸ ìˆœì„œ!

> ğŸ’¡ **ê³„ì‚° ìì„¸íˆ ì•Œì•„ë³´ê¸°**
>
> ì…ë ¥ê°’ìœ¼ë¡œ ì¶œë ¥ê°’ì„ ë§Œë“œëŠ” ê²ƒ
>
> ì‹¤í–‰ ì‹œì ê³¼ íšŸìˆ˜ì— ê´€ê³„ì—†ì´ í•­ìƒ ê°™ì€ ì…ë ¥ê°’ì— ëŒ€í•´ ê°™ì€ ì¶œë ¥ê°’ì„ ì¤Œ
>
> ìˆœìˆ˜í•¨ìˆ˜, ìˆ˜í•™í•¨ìˆ˜
>
> ### ì•¡ì…˜ë³´ë‹¤ ê³„ì‚°ì´ ì¢‹ì€ ì 
>
> - í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ì›€
> - ê¸°ê³„ì ì¸ ë¶„ì„ì´ ì‰¬ì›€
> - ì¡°í•©í•˜ê¸° ì¢‹ìŒ
>
> ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²ƒ, ê³¼ê±°ì— ì‹¤í–‰ë˜ì—ˆë˜ ê²ƒì´ë‚˜ ë¯¸ë˜ì— ì‹¤í–‰í•  ê²ƒ, ì‹¤í–‰ íšŸìˆ˜ë¥¼ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ë¨
>
> ### ê³„ì‚°ì˜ ë‹¨ì 
>
> - ì‹¤í–‰í•˜ê¸° ì „ì— ì–´ë–¤ ì¼ì´ ë°œìƒí• ì§€ ì•Œ ìˆ˜ ì—†ìŒ

## ì´ë¯¸ ìˆëŠ” ì½”ë“œì— í•¨ìˆ˜í˜• ì‚¬ê³  ì ìš©í•˜ê¸°

```jsx
function figurePayout(affiliate) {
  var owed = affiliate.sales * affiliate.commission;
  if (owed > 100) {
    sendPayout(affiliate.bank_cod, owed);
  }
}

function affiliatePayout(affiliates) {
  for (var a = 0; a < affiliates.length; a++) {
    figurePayout(afiliates[a]);
  }
}

function main(affiliates) {
  affiliatePayout(affiliates);
}
```

ìœ„ ì½”ë“œì— ì•¡ì…˜ì´ 1ê°œë¼ê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ ëª¨ë“  í•¨ìˆ˜ê°€ ì•¡ì…˜ì´ ëœë‹¤

ì™œëƒí•˜ë©´ `sendPayout` í•¨ìˆ˜ê°€ ì•¡ì…˜ì´ê³  ì´ê±¸ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ `figurePayout`ë„ ì•¡ì…˜ì´ ë˜ê³  `figurePayout`ë¥¼ í˜¸ì¶œí•˜ëŠ” `main`í•¨ìˆ˜ë„ ì•¡ì…˜ì´ ë¨

ì•¡ì…˜ì„ ë¶€ë¥´ëŠ” í•¨ìˆ˜ê°€ ì•¡ì…˜ì´ ë˜ê³  ê·¸ í•¨ìˆ˜ë¥¼ ë¶€ë¥´ëŠ” í•¨ìˆ˜ë„ ì•¡ì…˜ì´ ë˜ì–´ ì•¡ì…˜ í•œê°œê°€ ì½”ë“œ ì „ì²´ë¡œ í¼ì ¸ ë‚˜ê°

â‡’ ì½”ë“œê°€ í˜¸ì¶œ ì‹œì ì´ë‚˜ íšŸìˆ˜ì— ì˜ì¡´í•˜ëŠ”ì§€ë¥¼ ì²´í¬í•´ë³´ê¸°

> ğŸ’¡ **ì•¡ì…˜ ìì„¸íˆ ì•Œì•„ë³´ê¸°**
>
> ì™¸ë¶€ ì„¸ê³„ì— ì˜í–¥ì„ ì£¼ê±°ë‚˜ ë°›ëŠ” ê²ƒ
>
> ì‹¤í–‰ ì‹œì ê³¼ íšŸìˆ˜ì— ì˜ì¡´
>
> - **ì–¸ì œ ì‹¤í–‰ë˜ëŠ”ì§€** - ìˆœì„œ
> - **ì–¼ë§ˆë‚˜ ì‹¤í–‰ë˜ëŠ”ì§€** - ë°˜ë³µ
>
> ìˆœìˆ˜í•˜ì§€ ì•Šì€ í•¨ìˆ˜, ë¶€ìˆ˜ íš¨ê³¼ í•¨ìˆ˜
>
> ### ì•¡ì…˜ ì˜ ì‚¬ìš©í•˜ê¸°
>
> - ê°€ëŠ¥í•œ ì•¡ì…˜ì„ ì ê²Œ ì‚¬ìš©
> - ì•¡ì…˜ì€ ê°€ëŠ¥í•œ ì‘ê²Œ
> - ì•¡ì…˜ì´ ì™¸ë¶€ ì„¸ê³„ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ê²ƒì„ ì œí•œ
> - ì•¡ì…˜ì´ í˜¸ì¶œ ì‹œì ì— ì˜ì¡´í•˜ëŠ” ê²ƒì„ ì œí•œ

## ìš”ì  ì •ë¦¬

- ì•¡ì…˜ê³¼ ê³„ì‚°, ë°ì´í„°ë¥¼ êµ¬ë¶„í•˜ê¸°
- ì•¡ì…˜ì€ ì‹¤í–‰ ì‹œì ì´ë‚˜ íšŸìˆ˜ì— ì˜ì¡´
- ê³„ì‚°ì€ ì…ë ¥ê°’ìœ¼ë¡œ ì¶œë ¥ê°’ì„ ë§Œë“œëŠ” ê²ƒ, ì‹¤í–‰ ì‹œì ì´ë‚˜ íšŸìˆ˜ì— ì˜ì¡´ X
- ë°ì´í„°ëŠ” ì´ë²¤íŠ¸ì— ëŒ€í•œ ì‚¬ì‹¤
- ì•¡ì…˜ < ê³„ì‚° < ë°ì´í„°
