## ë°˜ì‘í˜• ì•„í‚¤í…ì²˜

### ë°˜ì‘í˜• ì•„í‚¤í…ì²˜ë€?

> ë°˜ì‘í˜• ì•„í‚¤í…ì²˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¡°í™”í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

- ì´ë²¤íŠ¸ì— ëŒ€í•œ ë°˜ì‘ìœ¼ë¡œ ì¼ì–´ë‚  ì¼ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ë°˜ì‘í˜• ì•„í‚¤í…ì²˜ì˜ í•µì‹¬ ì›ì¹™
- ì›¹ ì„œë¹„ìŠ¤ì™€ UIì— ì ìš©í•˜ë©´ ì¢‹ìŒ â†’ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
  - ì›¹ ì„œë¹„ìŠ¤ â†’ ì›¹ ìš”ì²­ ì‘ë‹µì— ì¼ì–´ë‚  ì¼ì„ ì§€ì •
  - UI â†’ ë²„íŠ¼ í´ë¦­ê³¼ ê°™ì€ ì´ë²¤íŠ¸ ì‘ë‹µì— ì¼ì–´ë‚  ì¼ì„ ì§€ì •

### ë°˜ì‘í˜• ì•„í‚¤í…ì²˜ì˜ ì ˆì¶©ì 

- ì›ì¸ì˜ íš¨ê³¼ì™€ ê²°í•©í•œ ê²ƒì„ ë¶„ë¦¬ â†’ í•˜ë ¤ê³  í•˜ëŠ” ê²ƒì„ ì •í™•í•˜ê²Œ í‘œí˜„ ê°€ëŠ¥
- ì—¬ëŸ¬ ë‹¨ê³„ì˜ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ì²˜ë¦¬ â†’ ì•¡ì…˜ê³¼ ê³„ì‚°ì„ ì¡°í•© ê°€ëŠ¥
- ìœ ì—°í•œ íƒ€ì„ë¼ì¸ â†’ ìˆœì„œë¥¼ í‘œí˜„í•˜ëŠ” ë°©ë²•ì„ ë’¤ì§‘ì–´ íƒ€ì„ë¼ì¸ì„ ë” ì§§ê²Œ ë§Œë“¤ê¸° ê°€ëŠ¥

### ì¼ê¸‰ ìƒíƒœ ëª¨ë¸: `ValueCell`

> ìƒíƒœë¥¼ ì¼ê¸‰ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ ë³´ì.

#### ê°’ í•˜ë‚˜ì™€ ë‘ ê°œì˜ ë™ì‘ì„ ê°€ì§€ëŠ” `ValueCell`

```tsx
function ValueCell(initialValue) {
  let currentValue = initialValue // ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ ê°’

  return {
    val: () => currentValue, // í˜„ì¬ ê°’ ê°€ì ¸ì˜¤ëŠ” ë™ì‘ (get)
    update: function (f) {
      // êµì²´ íŒ¨í„´ìœ¼ë¡œ í˜„ì¬ ê°’ ë°”ê¾¸ëŠ” ë™ì‘ (set)
      const oldValue = currentValue
      const newValue = f(oldValue)
      currentValue = newValue
    },
  }
}
```

- ê°’ í•˜ë‚˜ì™€ ë‘ ê°œì˜ ë™ì‘
  - `currentValue`: ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ ê°’
  - `val()`: ê°’ì„ ì½ëŠ” ë™ì‘
  - `update()`: í˜„ì¬ ê°’ì„ ë°”ê¾¸ëŠ” ë™ì‘

#### `add_item_to_cart`ì— ì ìš©í•˜ê¸°

- ê°’ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ ê°’ì„ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë©”ì„œë“œë¡œ í˜¸ì¶œ

```tsx
const shopping_cart = ValueCell({})

function add_item_to_cart(name, price) {
  const item = make_cart_item(name, price)
  shopping_cart.update(function (cart) {
    // ë©”ì„œë“œ í˜¸ì¶œ
    return add_item(cart, item)
  })
  const total = calc_total(shopping_cart.val())
  set_cart_total_dom(total)
  update_shipping_icons(shopping_cart.val())
  update_tax_dom(total)
}
```

### `ValueCell`ì„ ë°˜ì‘í˜•ìœ¼ë¡œ ë§Œë“¤ê¸°

#### ê°ì‹œì(watcher) ê°œë… ì¶”ê°€í•˜ê¸°

```tsx
function ValueCell(initialValue) {
  let currentValue = initialValue
  let watchers = [] // ê°ì‹œì ëª©ë¡

  return {
    val: () => currentValue,
    update: function (f) {
      const oldValue = currentValue
      const newValue = f(oldValue)
      if (oldValue !== newValue) {
        // ê°’ ë³€ê²½ ì—¬ë¶€ í™•ì¸
        currentValue = newValue
        forEach(watchers, function (watcher) {
          // ëª¨ë“  ê°ì‹œì ì‹¤í–‰
          watcher(newValue)
        })
      }
    },
    addWatcher: function (f) {
      // ìƒˆë¡œìš´ ê°ì‹œì ì¶”ê°€
      watchers.push(f)
    },
  }
}
```

- ê°ì‹œì: ìƒíƒœê°€ ë°”ë€” ë•Œë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” í•¸ë“¤ëŸ¬ í•¨ìˆ˜
- ê°ì‹œìë¡œ ì¥ë°”êµ¬ë‹ˆê°€ ë°”ë€” ë•Œ í•  ì¼ì„ ì§€ì • ê°€ëŠ¥ â†’ ì—¬ê¸°ì„œëŠ” ë°°ì†¡ ì•„ì´ì½˜ ê°±ì‹ 

> [!TIP]
>
> #### ê°ì‹œìì˜ ë™ì˜ì–´
>
> - ê°ì‹œì(watcher)
> - ì˜µì €ë²„(observer)
> - ë¦¬ìŠ¤ë„ˆ(listener)
> - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬(event handler)
> - ì½œë°±(callback)

#### `add_item_to_cart`ì— ì ìš©í•˜ê¸°

```tsx
const shopping_cart = ValueCell({})

function add_item_to_cart(name, price) {
  const item = make_cart_item(name, price)
  shopping_cart.update(function (cart) {
    return add_item(cart, item)
  })
  const total = calc_total(shopping_cart.val())
  set_cart_total_dom(total)
  update_tax_dom(total)
}

shopping_cart.addWatcher(update_shipping_icons)
```

- ê°ì‹œìê°€ ê°€ì ¸ë‹¤ì¤€ ê°œì„ ì 
  - í•¸ë“¤ëŸ¬ í•¨ìˆ˜ê°€ ì‘ì•„ì§ â†’ ì±…ì„ì„ ê°ì‹œìë¡œ ë„˜ê¹€
  - `update_shipping_icons` í˜¸ì¶œì„ ì¤„ì„ â†’ í•˜ë‚˜ì˜ ì½”ë“œë¡œ í•­ìƒ ìµœì‹ ì˜ ì¥ë°”êµ¬ë‹ˆ ìƒíƒœë¥¼ ë°˜ì˜

### `FormulaCell`ìœ¼ë¡œ íŒŒìƒëœ ê°’ ê³„ì‚°í•˜ê¸°

#### ë‹¤ë¥¸ ì…€ì˜ ë³€í™”ê°€ ê°ì§€ë˜ë©´ ê°’ì„ ë‹¤ì‹œ ê³„ì‚°í•˜ëŠ” `FormulaCell`

```tsx
function FormulaCell(upstreamCell, f) {
  const myCell = ValueCell(f(upstreamCell.val())) // ValueCell ì¬ì‚¬ìš©
  upstreamCell.addWatcher(function (newUpstreamValue) {
    // ì…€ ê°’ì„ ë‹¤ì‹œ ê³„ì‚°í•˜ê¸° ìœ„í•œ ê°ì‹œì ì¶”ê°€
    myCell.update(function (currentValue) {
      return f(newUpstreamValue)
    })
  })

  return {
    val: myCell.val, // myCellì— val() ìœ„ì„
    addWatcher: myCell.addWatcher, // myCellì— addWatcher() ìœ„ì„
    // update(set)ì„ ì•ˆ ë„˜ê¹€
  }
}
```

- ê°ì‹œí•˜ë˜ ìƒìœ„(upstream) ì…€ì´ ë°”ë€Œë©´ ìƒìœ„ ê°’ì„ ê°€ì§€ê³  ì…€ ê°’ì„ ë‹¤ì‹œ ê³„ì‚°
- `update()` ë™ì‘ì„ ë°˜í™˜í•˜ì§€ ì•Šì•„ ê°’ì„ ë°”ê¾¸ëŠ” ê¸°ëŠ¥ì€ ì—†ì§€ë§Œ ê°ì‹œëŠ” ê°€ëŠ¥
- ê°ì‹œê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— `addWatcher()`ë¡œ ê°’ ë³€ê²½ ì‹œ ì‹¤í–‰í•  ì•¡ì…˜ ì¶”ê°€ ê°€ëŠ¥

#### `add_item_to_cart`ì— ì ìš©í•˜ê¸°

```tsx
const shopping_cart = ValueCell({})
const cart_total = FomulaCell(shopping_cart, calc_total)

function add_item_to_cart(name, price) {
  const item = make_cart_item(name, price)
  shopping_cart.update(function (cart) {
    return add_item(cart, item)
  })
}

shopping_cart.addWatcher(update_shipping_icons)
cart_total.addWatcher(set_cart_total_dom)
cart_total.addWatcher(update_tax_dom)
```

### í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ê³¼ ë³€ê²½ ê°€ëŠ¥í•œ ìƒíƒœ

- í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì„ ë¹„ë¡¯í•´ ëª¨ë“  ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë³€ê²½ ê°€ëŠ¥í•œ ìƒíƒœë¥¼ ì˜ ê´€ë¦¬í•´ì•¼ í•¨
- ìƒíƒœë¥¼ ê°€ëŠ¥í•œ í•œ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¤‘ìš”!

> ì…€ì€ ë³€ê²½í•  ìˆ˜ ìˆì§€ë§Œ ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ ë³€ìˆ˜ì— ê°’ì„ ë‹´ì•„ë‘ê¸° ë•Œë¬¸ì— ì „ì—­ë³€ìˆ˜ë³´ë‹¤ ë” ì•ˆì „í•©ë‹ˆë‹¤.

- ì˜¬ë°”ë¥¸ ê°’ì„ ìœ ì§€í•˜ëŠ” ì´ìœ 
  - `update()`ë¥¼ ì‚¬ìš©í•  ë•Œ ê³„ì‚°ì„ ë„˜ê¸°ê¸° ë•Œë¬¸
  - í˜„ì¬ ê°’ì´ ì˜¬ë°”ë¥¸ ê°’ì´ê³  ê³„ì‚°ì´ í•­ìƒ ì˜¬ë°”ë¥¸ ê°’ì„ ë¦¬í„´í•œë‹¤ë©´ â†’ í•­ìƒ ì˜¬ë°”ë¥¸ ê°’ ìœ ì§€

> `ValueCell`ì€ íƒ€ì„ë¼ì¸ì—ì„œ ì½ê±°ë‚˜ ì“°ëŠ” ìˆœì„œë¥¼ ë³´ì¥í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ì–´ë–¤ ê°’ì´ ì €ì¥ë˜ì–´ë„ ê·¸ ê°’ì´ í•­ìƒ ì˜¬ë°”ë¥¸ ê°’ì´ë¼ëŠ” ê²ƒì„ ë³´ì¥í•©ë‹ˆë‹¤.

> [!NOTE]
>
> #### í•¨ìˆ˜í˜• ì–¸ì–´/í”„ë ˆì„ì›Œí¬ì—ì„œ `ValueCell` ì—­í• ì„ í•˜ëŠ” ê²ƒë“¤
>
> - í´ë¡œì €(Clojure): **Atom**
> - ë¦¬ì•¡íŠ¸(React): **Redux store**ì™€ **Recoil atom**
> - ì—˜ë¦­ì„œ(Elixir): **Agent**
> - í•˜ìŠ¤ì¼ˆ(Haskell): **TVar**

### ë°˜ì‘í˜• ì•„í‚¤í…ì²˜ê°€ ë°”ê¾¼ ì‹œìŠ¤í…œì˜ ê²°ê³¼

#### ê²°í•©ì˜ ë¶„ë¦¬ëŠ” ì›ì¸ê³¼ íš¨ê³¼ì˜ ì¤‘ì‹¬ì„ ê´€ë¦¬

- ë²„íŠ¼ í´ë¦­ì´ë¼ëŠ” ì›ì¸ê³¼ ê·¸ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ë°°ì†¡ ì•„ì´ì½˜ ê°±ì‹ ì´ë¼ëŠ” íš¨ê³¼ê°€ ê²°í•©
- í•´ê²°í•˜ê¸° ìœ„í•´ì„ ? ì „ì—­ ì¥ë°”êµ¬ë‹ˆê°€ ì›ì¸ê³¼ ê²°ê³¼ì˜ ì¤‘ì‹¬ì´ë¯€ë¡œ, ì—¬ê¸°ì—ì„œ ì›ì¸ê³¼ íš¨ê³¼ë¥¼ ë¶„ë¦¬
  > í•˜ë‚˜ê°€ ì¶”ê°€ëœë‹¤ê³  í•˜ë”ë¼ë„ íš¨ê³¼ë¥¼ ì¶”ê°€í•´ë„ ì›ì¸ì„ ê³ ì¹˜ì¹˜ ì•Šì•„ë„ ë˜ê³ , ì›ì¸ì„ ì¶”ê°€í•´ë„ íš¨ê³¼ë¥¼ ê³ ì¹˜ì§€ ì•Šì•„ë„ ë˜ê¸° ë•Œë¬¸ì— ê´€ë¦¬í•´ì•¼ í•  ê²ƒì´ í•˜ë‚˜ë§Œ ëŠ˜ì–´ë‚©ë‹ˆë‹¤.
- ê°ê° ì‹ ê²½ì¨ì•¼ í•˜ëŠ” ê²ƒì—ë§Œ ì‹ ê²½ì“°ê¸°
  - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ â†’ ì¥ë°”êµ¬ë‹ˆë¥¼ ë°”ê¾¸ëŠ” ì¼ì—ë§Œ
  - DOMì„ ì—…ë°ì´íŠ¸ í•˜ëŠ” ê³³ â†’ DOMì„ ê°±ì‹ í•˜ëŠ” ê²ƒë§Œ

#### ì—¬ëŸ¬ ë‹¨ê³„ë¥¼ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ì²˜ë¦¬

- ë°˜ì‘í˜• ì•„í‚¤í…ì²˜ë„ ê°„ë‹¨í•œ ì•¡ì…˜ê³¼ ê³„ì‚°ì„ ì¡°í•©í•´ ë³µì¡í•œ ë™ì‘ì„ ë§Œë“¤ ìˆ˜ ìˆìŒ â†’ íŒŒì´í”„ë¼ì¸
- íŒŒì´í”„ë¼ì¸ì€ ì‘ì€ ì•¡ì…˜ê³¼ ê³„ì‚°ì„ ì¡°í•©í•œ í•˜ë‚˜ì˜ ì•¡ì…˜
- ê° ë‹¨ê³„ì—ì„œ ìƒì„±ëœ ë°ì´í„°ëŠ” ë‹¤ìŒ ë‹¨ê³„ì˜ ì…ë ¥ê°’ìœ¼ë¡œ ì‚¬ìš©

#### ìœ ì—°í•œ íƒ€ì„ë¼ì¸

- ë°˜ì‘í˜• ì•„í‚¤í…ì²˜ì€ ìˆœì„œë¥¼ ì •ì˜í•˜ëŠ” ë°©ë²•ì„ ë’¤ì§‘ê¸° ë–„ë¬¸ì— ìì—°ìŠ¤ëŸ½ê²Œ íƒ€ì„ë¼ì¸ì´ ì‘ì€ ë¶€ë¶„ìœ¼ë¡œ ë¶„ë¦¬ë¨
- ë°˜ë“œì‹œ íƒ€ì„ë¼ì¸ì„ ì§§ê²Œ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹˜ â†’ ê³µìœ í•˜ëŠ” ìì›ì´ ì—†ìœ¼ë©´ íƒ€ì„ë¼ì¸ì´ ë§ì•„ì ¸ë„ ë¬¸ì œê°€ ì—†ìŒ

![image.png](https://drek4537l1klr.cloudfront.net/normand/Figures/f0523-02.jpg)

- ì¥ë°”êµ¬ë‹ˆ `ValueCell`
  - ê°ì‹œì í˜¸ì¶œ ì‹œ í˜„ì¬ ê°’ì„ ë„˜ê²¨ì£¼ê¸° ë•Œë¬¸ì—
  - ê°ì‹œì í•¨ìˆ˜ê°€ ì§ì ‘ ì¥ë°”êµ¬ë‹ˆ ê°’ì„ ì½ì§€ ì•Šì•„ë„ ë¨ â†’ ì¥ë°”êµ¬ë‹ˆ ê°’ì„ ì „ì—°ë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë¨
- í•©ê³„ `FormulaCell`
  - ê°ì‹œìë¥¼ í˜¸ì¶œ ì‹œ í˜„ì¬ í•©ê³„ ê°’ì„ ë„˜ê²¨ì£¼ê¸° ë•Œë¬¸ì—
  - DOM ì—…ë°ì´íŠ¸ì—ì„œ FormulaCellì„ ì§ì ‘ ì½ì§€ ì•Šì•„ë„ ë¨ â†’ DOMì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ëª¨ë“  ê³³ì—ì„œ ìì‹ ì˜ DOMë§Œ ê°±ì‹ í•˜ë©´ ë¨
- ì„œë¡œ ë‹¤ë¥¸ ìì›ì„ ì‚¬ìš©í•˜ê¸° ë–„ë¬¸ì— ì•ˆì „í•œ íƒ€ì„ë¼ì¸

## ì–´ë‹ˆì–¸ ì•„í‚¤í…ì²˜

![image.png](https://drek4537l1klr.cloudfront.net/normand/Figures/f0527-01.jpg)

- í˜„ì‹¤ ì„¸ê³„ì™€ ìƒí˜¸ì‘ìš©í•˜ê¸° ìœ„í•œ ì„œë¹„ìŠ¤ êµ¬ì¡°ë¥¼ ë§Œë“œëŠ” ë°©ë²•
- ì–‘íŒŒì²˜ëŸ¼ ë‘¥ê¸€ê²Œ ê²¹ê²¹ì´ ìŒ“ì¸ ëª¨ì–‘ì´ë¼ì„œ ì–´ë‹ˆì–¸ ì•„í‚¤í…ì²˜
- ì–´ë‹ˆì–¸ ì•„í‚¤í…ì²˜ëŠ” ì•¡ì…˜ê³¼ ê³„ì‚°ì˜ ë¶„ë¦¬, ê³„ì¸µí˜• ì„¤ê³„ ë°©ì‹ê³¼ ì˜ ì–´ìš¸ë¦¼
  - ì•¡ì…˜ì—ì„œ ê³„ì‚°ì„ ë¹¼ë‚´ë©´ ì˜ë„í•˜ì§€ ì•Šì•„ë„ ì–´ë‹ˆì–¸ ì•„í‚¤í…ì²˜ êµ¬ì¡°ê°€ ë¨
  - ê³„ì¸µí˜• ì„¤ê³„ë¡œ ì•¡ì…˜ ì „íŒŒë¥¼ í™•ì¸í•˜ê³  ì•¡ì…˜ì—ì„œ ê³„ì‚°ì„ ë¹¼ë‚´ í•˜ìœ„ ì•¡ì…˜+ê³„ì‚° ì¡°í•©ìœ¼ë¡œ ë³€ê²½

### ì–´ë‹ˆì–¸ ì•„í‚¤í…ì²˜ ê³„ì¸µ

- ì¸í„°ë™ì…˜ ê³„ì¸µ: ë°”ê¹¥ì„¸ìƒì— ì˜í–¥ì„ ì£¼ê±°ë‚˜ ë°›ëŠ” ì•¡ì…˜
- ë„ë©”ì¸ ê³„ì¸µ: ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ì •ì˜í•˜ëŠ” ê³„ì‚°
- ì–¸ì–´ ê³„ì¸µ: ì–¸ì–´ ìœ í‹¸ë¦¬í‹°ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬

### ì–´ë‹ˆì–¸ ì•„í‚¤í…ì²˜ ê·œì¹™

- í˜„ì‹¤ ì„¸ê³„ì™€ ìƒí˜¸ì‘ìš©ì€ ì¸í„°ë™ì…˜ ê³„ì¸µì—ì„œ
- ê³„ì¸µì—ì„œ í˜¸ì¶œí•˜ëŠ” ë°©í–¥ì€ ì¤‘ì‹¬ ë°©í–¥
- ê³„ì¸µì€ ì™¸ë¶€ì— ì–´ë–¤ ê³„ì¸µì´ ìˆëŠ”ì§€ ëª¨ë¦„

### ì „í†µì ì¸ ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ vs í•¨ìˆ˜í˜• ì•„í‚¤í…ì²˜

- ë°ì´í„°ë² ì´ìŠ¤ ê³„ì¸µê³¼ ë„ë©”ì¸ ê³„ì¸µì˜ ê´€ê³„
- í•¨ìˆ˜í˜• ì•„í‚¤í…ì²˜ëŠ” ë„ë©”ì¸ ê³„ì¸µì´ ë°ì´í„° ë² ì´ìŠ¤ ê³„ì¸µì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
- ë°ì´í„°ë² ì´ìŠ¤ ë™ì‘ì€ ê°’ì„ ë°”ê¾¸ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì— ì•¡ì…˜
- ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë³€ê²½ ê°€ëŠ¥í•˜ê³  ì ‘ê·¼í•˜ëŠ” ëª¨ë“  ê²ƒì„ ì•¡ì…˜ìœ¼ë¡œ ë§Œë“ ë‹¤ëŠ” ê²ƒì´ í•µì‹¬!
- ë”°ë¼ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë„ë©”ì¸ê³¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì¤‘ìš”
- ê°€ì¥ ìœ„ì— ìˆëŠ” ì•¡ì…˜ì—ì„œ ë„ë©”ì¸ ê·œì¹™ê³¼ ë°ì´í„°ë² ì´ìŠ¤ ì¡°í•©

## ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ ì„ íƒ ì‹œ ê³ ë ¤í•´ì•¼ í•  ì‚¬í•­

### ë³€ê²½ê³¼ ì¬ì‚¬ìš©

> ë³€ê²½ê³¼ ì¬ì‚¬ìš©ì´ ì‰¬ì›Œì•¼ í•©ë‹ˆë‹¤.

#### ë³€ê²½ê³¼ ì¬ì‚¬ìš© ê´€ì ì—ì„œ ì–´ë‹ˆì–¸ ì•„í‚¤í…ì²˜

> ì–´ë‹ˆì–¸ ì•„í‚¤í…ì²˜ëŠ” ì¢‹ì€ ì¸í”„ë¼ë³´ë‹¤ ì¢‹ì€ ë„ë©”ì¸ì„ ê°•ì¡°í•©ë‹ˆë‹¤.

- ë°ì´í„°ë² ì´ìŠ¤ë‚˜ API í˜¸ì¶œê³¼ ê°™ì€ ì™¸ë¶€ ì„œë¹„ìŠ¤(ì¸í„°ë™ì…˜ ê³„ì¸µ)ë¥¼ ë°”ê¾¸ê¸° ì‰¬ì›€
  - ì¸í„°ë™ì…˜ ê³„ì¸µì´ ê°€ì¥ ë†’ì€ ê³„ì¸µì—ì„œ ì‚¬ìš©í•˜ê¸° ë–„ë¬¸
- ë„ë©”ì¸ ê³„ì¸µì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ì›€
  - ë„ë©”ì¸ ê³„ì¸µì´ ì™¸ë¶€ ì„œë¹„ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•Šê¸° ë•Œë¬¸

#### ğŸ¤”Â ë„ë©”ì¸ ê·œì¹™ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ë°ìš”?

- ì „í˜•ì ì¸ ì•„í‚¤í…ì²˜ì—ì„œ ë„ë©”ì¸ ê·œì¹™ì€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í˜¸ì¶œ â†’ ì–´ë‹ˆì–¸ ì•„í‚¤í…ì²˜ëŠ” ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•¨!

| ì „í†µì ì¸ ì•„í‚¤í…ì²˜                                                               | ì–´ë‹ˆì–¸ ì•„í‚¤í…ì²˜                                                                 |
| ------------------------------------------------------------------------------- | ------------------------------------------------------------------------------- |
| ![image.png](https://drek4537l1klr.cloudfront.net/normand/Figures/f0533-02.jpg) | ![image.png](https://drek4537l1klr.cloudfront.net/normand/Figures/f0533-03.jpg) |
| ë„ë©”ì¸ ê·œì¹™ì´ ë°ì´í„° ë² ì´ìŠ¤ì— ì§ì ‘ ì ‘ê·¼                                         | í•¸ë“¤ëŸ¬ê°€ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ë„ë©”ì¸ì— ì „ë‹¬í•˜ëŠ” ì—­í•                 |
| â†’ ë„ë©”ì¸ì´ ê³„ì‚°ì´ ë  ìˆ˜ ì—†ê³  ì•¡ì…˜ì´ ë¨                                          | â†’ ì¸í„°ë™ì…˜ ê³„ì¸µì—ì„œ ê°’ì„ ê°€ì ¸ì˜¤ê³  ë„ë©”ì¸ ê³„ì¸µì—ì„œ í•©ì‚°í•˜ëŠ” ê³„ì‚°ì´ ë¨            |

#### ğŸ¤”Â ë„ë©”ì¸ ê·œì¹™ì´ ì•¡ì…˜ì´ ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš°ëŠ” ì •ë§ ì—†ë‚˜ìš”?

- ì•¡ì…˜ì—ì„œ ê³„ì‚°ì„ ë¹¼ë‚´ëŠ” ê²ƒì´ ì¢‹ìŒ
- ì•¡ì…˜ì€ ì‘ì€ ë¡œì§ì„ ê°–ëŠ” í•˜ìœ„ ë‹¨ê³„ ì•¡ì…˜
- í•˜ìœ„ ë‹¨ê³„ ì•¡ì…˜ì´ ë˜ëŠ” ì´ìœ  â†’ ë¹¼ë‚¸ ë„ë©”ì¸ ê³„ì‚°ê³¼ ì•¡ì…˜ì„ ìƒìœ„ ë‹¨ê³„ì˜ ì•¡ì…˜ìœ¼ë¡œ ì¡°í•©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸

### ë„ë©”ì¸ ê·œì¹™

> ë„ë©”ì¸ ê·œì¹™ì€ ë„ë©”ì¸ ìš©ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### ë„ë©”ì¸ ê·œì¹™ì´ ì•„ë‹Œ ê²½ìš°

- ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ëŠ” ê²½ìš° â†’ ë°ì´í„°ë² ì´ìŠ¤ë¼ëŠ” ë°”ê¹¥ì„¸ìƒê³¼ ìƒí˜¸ì‘ìš©í•˜ëŠ” ì¸í„°ë™ì…˜ ê³„ì¸µ
- ë¶ˆì•ˆì •í•œ ë„¤í¬ì›Œí¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê²½ìš° â†’ ì›¹ì´ë¼ëŠ” ë°”ê¹¥ì„¸ìƒê³¼ ìƒí˜¸ì‘ìš©í•˜ëŠ” ì¸í„°ë™ì…˜ ê³„ì¸µ

### ê°€ë…ì„±

> ë¬¸ë§¥ì— ë”°ë¼ ê³„ì‚°ë³´ë‹¤ ì•¡ì…˜ì´ ì½ê¸° ì¢‹ì€ ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤.

#### ê°€ë…ì„±ì„ ê²°ì •í•˜ëŠ” ìš”ì†Œ

- ì‚¬ìš©í•˜ëŠ” ì–¸ì–´
- ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
- ë ˆê±°ì‹œ ì½”ë“œì™€ ì½”ë“œ ìŠ¤íƒ€ì¼
- ê°œë°œìë“¤ì˜ ìŠµê´€

#### í˜„ì‹¤ ì„¸ê³„ì˜ ë¬¸ì œì™€ì˜ ê· í˜• ìœ ì§€ë¥¼ ìœ„í•œ ê³ ë ¤ ì‚¬í•­

- ì½”ë“œì˜ ê°€ë…ì„±
- ê°œë°œ ì†ë„
- ì‹œìŠ¤í…œ ì„±ëŠ¥

### ë„ë©”ì¸ ê³„ì¸µì—ì„œ ì„ íƒì ì¸ ê°’ ê°€ì ¸ì˜¤ê¸°

> í•­ìƒ ë„ë©”ì¸ ê³„ì¸µê³¼ ì¸í„°ë™ì…˜ ê³„ì¸µì„ ë¶„ë¦¬í•´ ë„ë©”ì¸ ê·œì¹™ì„ ê³„ì‚°ìœ¼ë¡œ ìœ ì§€í•˜ì.

#### ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì œí’ˆì„ ê°€ì ¸ì™€ì„œ ë³´ê³ ì„œë¥¼ ìƒì„±í•˜ëŠ” `generateReport()`

```tsx
function generateReport(products) {
  return reduce(products, '', function (report, product) {
    return report + product.name + ' ' + product.price + '\n'
  })
}

const productsLastYear = db.fetchProducts('last year')
const reportLastYear = generateReport(productsLastYear)
```

#### ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­: ë³´ê³ ì„œì— í• ì¸ ì •ë³´ í‘œì‹œí•˜ê¸°

```tsx
function generateReport(products) {
	return reduce(products, "", function(report, product) {
		return report + product.name + " " + product.price + "\n"
	})
}

const productsLastYear = db.fetchProducts('last year')
// ì œí’ˆì„ ë°ì´í„°ì—ì´ìŠ¤ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê°€ì¥ ìƒìœ„ ê³„ì¸µì¸ ì¸í„°ë™ì…˜ ê³„ì¸µì—ì„œ ì§„í–‰
const productsWithDiscounts = map(productsLastYear, function(product) {
	if(!product.discountID) product
	return objectSet(product, 'discount', db.fetchProducts(product.discountID)
})
const reportLastYear = generateReport(productsWithDiscounts)
```
